<!DOCTYPE html>
<html lang="de" layout:decorate="~{layoutAngemeldet}" xmlns:th="http://www.thymeleaf.com"
	  xmlns:layout="http://www.w3.org/1999/xhtml">
<head>
	<title>Accountverwaltung</title>
	<style>
		#dateDiv {
			padding-top: 25px;
		}

		.daterangepicker td.disabled, .daterangepicker option.disabled, .daterangepicker td.daterangepicker.disabled {
			background-color: #ff7677;
			color: white;
			cursor: not-allowed;
			text-decoration: line-through;
		}

		.daterangepicker td.available:hover, .daterangepicker th.available:hover {
			background-color: #eee;
			border-color: transparent;
			color: inherit;
		}

		.daterangepicker td.available {
			background-color: #76ee85;
			border-color: transparent;
		}

	</style>
</head>

<body>
<h1 layout:fragment="titel">Für welchen Zeitraum möchten Sie den Artikel ausleihen?</h1>
<div layout:fragment="inhalt">
	<div class="col-md-4">
		<form name="f" method="post">
			<p th:if="${error}">Sie haben nicht genügend Geld auf Ihrem ProPay-Konto!</p>
			<input type="text" class="form-control" name="daterange" min="#today"/> <br>
			<br>
			<a href='/'>
				<button name="button" class="btn btn-outline-danger">Abbrechen</button>
			</a>
			<input type="submit" value="Bestätigen" class="btn btn-outline-success"/>
		</form>
	</div>
</div>
<script th:inline="javascript">
    $(function () {
        $('input[name="daterange"]').daterangepicker({
            "autoApply": true,
            minDate: 0,
            disabledDates: [moment('19/02/2019', 'DD/MM/YYYY')],
            locale: {
                format: 'DD/MM/YYYY'
            },
            isInvalidDate: function (date) {
                /*<![CDATA[*/

                /*[# th:each="datum : ${daten}"]*/
                var von = moment(/*[[${datum.startDate.toString()}]]*/, 'YYYY/MM/DD');
                var bis = moment(/*[[${datum.endDate.toString()}]]*/, 'YYYY/MM/DD');
                if (date.isBefore(moment(new Date())) || date.isSame(von) || date.isAfter(von) && date.isBefore(bis) || date.isSame(bis)) return true;
                /*[/]*/

                /*]]>*/
                return false
            }
        })
    });
</script>
</body>
</html>
